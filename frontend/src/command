//amphur name join with count client
select amphur_name, count(*) from amphur a
left join
client c on c.amphurcode = a.amphurcode
where 1 GROUP by a.amphurcode ORDER by a.amphurcode

//index
SELECT *, CASE
when par <= 1 then 'ทั้งหมด'
when par <= 2 then 'ผ่าน'
when par <= 3 then 'มีแน้วโน้ม'
when par <= 4 then 'ไม่ผ่าน'
end as status
FROM `kpi_list` WHERE type = 1

//index with count
SELECT *, count(*) as amount, CASE
when par <= 1 then 'ทั้งหมด'
when par <= 2 then 'ผ่าน'
when par <= 3 then 'มีแน้วโน้ม'
when par <= 4 then 'ไม่ผ่าน'
end as status
FROM `kpi_list` WHERE type = 1
GROUP by status

//client
SELECT * FROM `client` c
left join amphur a on a.amphurcode = c.amphurcode
left join kpi_list k on 1 = 1
WHERE k.type = 1 and k.par <= 1 and c.amphurcode = 01

//header client
SELECT * FROM amphur
left join kpi_list on 1 = 1
where amphurcode = ? and kpi_id = ?

//qofdist
select c.hmainname, c.hmain, q.TOTAL, q.YES, q.per from (
(select sum(if(outcome = 'YES',1,0)) as YES,
count(outcome) as TOTAL,
ROUND(sum(if(outcome = 'YES',1,0))/count(outcome)*100, 2) as per,
hmain
from `qof63k_1.1` GROUP BY hmain) as q
left join
cmastercup c on c.hmain = q.hmain)
GROUP BY q.hmain

//qofclient
SELECT c.hmainname, c.hmain, q.B, q.A, q.C, q.per, q.hospcode, cl.hospname from (
            (select sum(if(outcome = 'YES',1,0)) as A,
            count(outcome) as B,
            sum(if(outcome = 'NO',1,0)) AS C,
            ROUND(sum(if(outcome = 'YES',1,0))/count(outcome)*100, 2) as per,
            hmain, hospcode
            from `qof63k_1.1` GROUP BY hospcode) as q
            left join
            cmastercup c on c.hmain = q.hmain
            left JOIN
            client cl on cl.hospcode = q.hospcode)
            where q.hmain = '11339'
            GROUP BY q.hospcode

//qofrpst
select cl.hospname, c.hmainname from (
(SELECT * FROM `client` ) as cl
left join cmastercup c on c.hsub = cl.hospcode )
where cl.hospcode = 08751

//qofrpst2
select cl.hospcode, c.hmainname, cl.outcome from (
(SELECT * FROM `qof63k_1.1` ) as cl
left join cmastercup c on c.hsub = cl.hospcode )
where cl.hospcode = 40742

//qofrpst3
select cl.hospcode, cl.pid, cl.cid, cl.name, cl.birth, cl.date_start, cl.date_end, cl.outcome from (
(SELECT * FROM `qof63k_1.1` ) as cl
left join cmastercup c on c.hsub = cl.hospcode )
where cl.hospcode = 40742 and cl.outcome = 'YES'